namespace TestOvaya
{
    class Circle
    {
        static double sqr;

        const double PI = 3.1415;

        public static double radius;

        public static void PrintSqr()
        {



            while (Console.ReadKey().Key != ConsoleKey.Escape)
            {
                Console.WriteLine("Вы выбрали круг");
                Console.WriteLine("Для выхода нажмите Escape\nВведите пожалуйста радиус круга\n ");
                try
                {
                    radius = Convert.ToDouble(Console.ReadLine());
                    if (radius <= 0)
                    {
                        Console.WriteLine("Введите корректное значение радиуса ");
                    }
                    else
                    {
                        sqr = (PI * radius * radius);
                        Console.WriteLine("Площадь круга = " + sqr + " см");


                    }
                    
                   // PrintSqr();
                }
                catch (Exception)
                {
                    Console.WriteLine("Введите корректное значение радиуса");
                    continue;
                }

            }
        }
    }

    class Triangle
    {
        static double A, B, C, S, p;

        public static void PrintSqr()
        {
            Console.WriteLine("Вы выбрали треугольник\nДля выхода нажмите Escape\nтеперь введите значения сторон ");
            while (Console.ReadKey().Key != ConsoleKey.Escape)
            {
                try
                {
                    Console.WriteLine("Введите сторону A: ");
                    A = double.Parse(Console.ReadLine());

                    Console.WriteLine("Введите сторону B: ");
                    B = double.Parse(Console.ReadLine());

                    Console.WriteLine("Введите сторону C: ");
                    C = double.Parse(Console.ReadLine());

                    if ((A + B <= C || B + C <= A || A + C <= B))
                    {
                        Console.WriteLine("Ошибка размеров сторон");
                        continue;
                    }
                    if (A < 0 || B < 0 || C < 0)
                    {
                        Console.WriteLine("Ошибка размеров сторон");
                        continue;
                    }
                    else
                    {
                        p = (A + B + C) / 2;

                        S = Math.Sqrt(p * (p - A) * (p - B) * (p - C));
                        Console.WriteLine("Площать треугольника = " + S + "\n");

                        Console.WriteLine("Проверить на прямой угол?\n Y - да");
                        if (Console.ReadKey().Key == ConsoleKey.Y)
                        {
                            Console.WriteLine();
                            Corner();
                        }
                       
                    }

                }
                catch (Exception)
                {
                    Console.WriteLine("Что то пошло не так");
                }

            }
        }

        private static void Corner()
        {
            if (((A * A + B * B == C * C) || (A * A + C * C == B * B) || (C * C + B * B == A * A)))
            {
                Console.WriteLine("Треугольник является прямоугольным");
            }
            else
            {
                Console.WriteLine("Треугольник не прямоугольный");
            }
        }

    }


    class Program
    {
        static void Main(string[] args)
        {

            while (Console.ReadKey().Key != ConsoleKey.Escape)
            {
                Console.WriteLine("Выберите фигуру : ");
                Console.WriteLine("Круг - нажмите 1\nТреугольник - нажмите 2");
                int x = int.Parse(Console.ReadLine());
                switch (x)
                {
                    case 1:
                        Circle.PrintSqr();
                        break;
                    case 2:
                        Triangle.PrintSqr();
                        break;
                }
            }
        }
    }
}